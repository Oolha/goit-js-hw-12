{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import Axios from 'axios';\n\nconst formSearch = document.querySelector(\".form-js\");\nconst inputSearch = document.querySelector(\".input-js\");\nconst list = document.querySelector(\".image-list\");\n\nconst axios = Axios.create(\n    {\n        baseURL: 'https://pixabay.com/api/',\n        params: {\n            key: '44419663-0e2c09df92781957132f7cc0f',\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n            per_page: 15,\n\n        }\n    });\n\n\nexport async function displayImage(image, currentPage) {\n    try {\n        const res = await axios.get('', {\n            params:\n            {\n                q: image,\n                page: currentPage,\n            }\n        })\n        console.log(res);\n        return res.data;\n    } catch (error) {\nconsole.log(error);\n    }\n}\n\n\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst formSearch = document.querySelector(\".form-js\");\nconst inputSearch = document.querySelector(\".input-js\");\nconst list = document.querySelector(\".image-list\");\n\nexport function renderImage(images) {\n    const markup = images.map((image) => {\n        return `\n    <li class=\"images-item\">\n    <a class=\"large-img-link\" href=\"${image.largeImageURL}\">\n    <img class=\"small-img-link\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"></img>\n    <div class=\"image-box\">\n    <p class=\"img-list-item-text\">Likes: ${image.likes}</p>\n    <p class=\"img-list-item-text\">Views: ${image.views}</p>\n    <p class=\"img-list-item-text\">Comments: ${image.comments}</p>\n    <p class=\"img-list-item-text\">Downloads: ${image.downloads}</p>\n    </div>\n        </a>\n    </li>`;\n    }).join('');\n    list.innerHTML = markup;\n\n\n    const lightbox = new SimpleLightbox('.image-list a', {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250\n\n});\n    lightbox.refresh();\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { displayImage } from \"./js/pixabay-api\";\nimport { renderImage } from \"./js/render-functions\";\n\nconst formSearch = document.querySelector(\".form-js\");\nconst inputSearch = document.querySelector(\".input-js\");\nconst list = document.querySelector(\".image-list\");\nconst loader = document.querySelector(\".loader\");\nconst btnSearch = document.querySelector(\".btn-js\");\nconst btnLoadMore =document.querySelector(\".btn-load-more\")\n\n\n\nformSearch.addEventListener('submit', async e => {\n    e.preventDefault();\n    const inputValue = inputSearch.value.trim();\n    if (inputValue === '') {\n        list.innerHTML = ' ';\n    }\n    showLoader();\n\n    try {\n        const images = await displayImage(inputValue);\n     if (images.hits.length !== 0) {\n            renderImage(images.hits);\n        }\n        else {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                messageColor: '#fafafa',\n                color: '#ef4040',\n                position: 'topRight'\n\n            });\n        }\n    }\n    catch (error) {\n        iziToast.error({\n            message: \"An error occurred while fetching images. Please try again later.\"\n        })\n    };\n    hideLoader();\n    e.target.reset();\n    \n});\n\n\nlet image = '';\nlet currentPage = 1;\nlet maxPage = 1;\nconst perPage = 15;\n\n\nbtnSearch.addEventListener('click', async () => {\n    image = inputSearch.value.trim();\n    currentPage = 1;\n    hideLoadMore();\n    const data = await displayImage(image, currentPage);\n    console.log(data);\n    maxPage = Math.ceil(data.totalHits / perPage);\n    const markup = renderImage(data.hits);\n    list.innerHTML = markup;\n\n    updateBtnStatus();\n})\nbtnLoadMore.addEventListener('click', async () => {\n\n    currentPage++;\n    hideLoadMore();\n    const data = await displayImage(image, currentPage);\n    const markup = renderImage(data.hits);\n    list.insertAdjacentElement('beforeend', markup);\n    updateBtnStatus();\n}\n)\n\nfunction updateBtnStatus() {\n    if (currentPage >= maxPage) {\n        hideLoadMore();\n        iziToast.info({\n            title: 'The End!',\n            message: 'The end of collection',\n        })\n    } else {\n        showLoadMore();\n    }\n}\n\n\n\nfunction showLoadMore() {\n    btnLoadMore.classList.remove('hidden');\n}\nfunction hideLoadMore() {\n    btnLoadMore.classList.add('hidden');\n}\n\nfunction showLoader() {\n    loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n    loader.classList.add('hidden');\n}\n\n"],"names":["axios","Axios","displayImage","image","currentPage","res","error","list","renderImage","images","markup","SimpleLightbox","formSearch","inputSearch","loader","btnSearch","btnLoadMore","e","inputValue","showLoader","iziToast","hideLoader","maxPage","perPage","hideLoadMore","data","updateBtnStatus","showLoadMore"],"mappings":"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"}